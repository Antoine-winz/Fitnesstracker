{% extends "base.html" %}

{% block content %}
<div class="py-5">
    {% if current_user.is_authenticated %}
        <div class="text-center mb-5">
            <h1 class="display-4">Welcome back, {{ current_user.username }}!</h1>
            <p class="lead">Ready to continue your fitness journey?</p>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow-sm mb-4">
                    <div class="card-body">
                        <h2 class="card-title h4">Quick Actions</h2>
                        <div class="d-grid gap-2 d-sm-flex">
                            <a href="{{ url_for('add_workout') }}" class="btn btn-primary">Start New Workout</a>
                            <a href="{{ url_for('history') }}" class="btn btn-outline-secondary">View History</a>
                            <a href="{{ url_for('progress') }}" class="btn btn-outline-info">Check Progress</a>
                        </div>
                    </div>
                </div>

                {% if recent_workouts %}
                <div class="card shadow-sm mb-4">
                    <div class="card-body">
                        <h2 class="card-title h4">Recent Workouts</h2>
                        <div class="list-group">
                            {% for workout in recent_workouts %}
                            <a href="{{ url_for('view_workout', workout_id=workout.id) }}" 
                               class="list-group-item list-group-item-action">
                                <div class="d-flex w-100 justify-content-between">
                                    <h5 class="mb-1">{{ workout.name }}</h5>
                                    <small>{{ workout.date.strftime('%Y-%m-%d') }}</small>
                                </div>
                                {% if workout.exercises %}
                                <small>{{ workout.exercises|length }} exercises</small>
                                {% endif %}
                            </a>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                {% endif %}

                <div class="card shadow-sm">
                    <div class="card-body">
                        <h2 class="card-title h4">Today's Tip</h2>
                        <p class="card-text"><em>{{ tip }}</em></p>
                    </div>
                </div>
            </div>
        </div>
    {% else %}
        <div class="text-center">
            <h1 class="display-4">Welcome to Workout Tracker</h1>
            <p class="lead">Track your workouts, sets, reps, and progress</p>
            <div class="mt-4">
                <a href="{{ url_for('google_auth.login') }}" class="btn btn-primary btn-lg">Sign in with Google</a>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}
